; ==============================================================================
; Xdebug Configuration for Development Debugging
; ==============================================================================
; Purpose: Enable step debugging and profiling in local development
; WARNING: NEVER enable in production (massive performance impact)
; ==============================================================================

[xdebug]

; -------------------------------------------------------------------------
; Enable Xdebug (development only)
; -------------------------------------------------------------------------
xdebug.mode = debug,develop,coverage

; -------------------------------------------------------------------------
; Step Debugging Configuration
; -------------------------------------------------------------------------

; Start debugging on request (use Xdebug browser extension)
xdebug.start_with_request = trigger

; Client connection settings
xdebug.client_host = host.docker.internal
xdebug.client_port = 9003

; Enable remote debugging
xdebug.discover_client_host = false

; IDE key for session matching
xdebug.idekey = PHPSTORM

; -------------------------------------------------------------------------
; Logging
; -------------------------------------------------------------------------
xdebug.log = /var/log/php/xdebug.log
xdebug.log_level = 7

; -------------------------------------------------------------------------
; Development Helpers
; -------------------------------------------------------------------------

; Improve var_dump() output
xdebug.var_display_max_depth = 10
xdebug.var_display_max_children = 256
xdebug.var_display_max_data = 1024

; -------------------------------------------------------------------------
; Profiling (disabled by default, enable with trigger)
; -------------------------------------------------------------------------
; xdebug.mode = profile
; xdebug.output_dir = /tmp/xdebug
; xdebug.start_with_request = trigger

; -------------------------------------------------------------------------
; Code Coverage (for PHPUnit tests)
; -------------------------------------------------------------------------
; Automatically enabled when mode includes 'coverage'